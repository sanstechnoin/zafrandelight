<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tisch Reservieren - Zafran Delight</title>
    <link rel="icon" href="favlogo.png" type="image/png">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
        /* --- KDS THEME VARIABLES --- */
        :root {
            --bg-dark: #1a1a1a;        
            --card-bg: #2a2a2a;       
            --gold: #D4AF37;
            --text-main: #f0f0f0;
            --text-subtle: #aaa;
            --border-color: #444;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body { 
            background-color: var(--bg-dark); 
            color: var(--text-main); 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.6; 
            display: flex; flex-direction: column; min-height: 100vh;
        }

        /* HEADER & FOOTER (Matches Index) */
        header { position: fixed; width: 100%; top: 0; z-index: 1000; background: rgba(42, 42, 42, 0.95); border-bottom: 1px solid var(--gold); padding: 10px 0; box-shadow: 0 4px 8px rgba(0,0,0,0.3); }
        .container { width: 100%; max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .navbar { display: flex; justify-content: space-between; align-items: center; }
        .logo img { height: 50px; display: block; }
        .nav-links a { color: var(--gold); font-weight: 600; text-transform: uppercase; text-decoration: none; margin-left: 20px; font-size: 0.95rem; }
        
        /* RESERVATION CONTENT */
        main { padding-top: 100px; padding-bottom: 60px; flex: 1; display: flex; justify-content: center; align-items: center; }
        
        .reservation-card {
            background-color: var(--card-bg);
            border: 1px solid var(--gold);
            border-radius: 8px;
            padding: 40px;
            width: 100%;
            max-width: 600px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        h1 { color: var(--gold); text-align: center; margin-bottom: 10px; text-transform: uppercase; letter-spacing: 1px; }
        p.subtitle { text-align: center; color: var(--text-subtle); margin-bottom: 30px; font-style: italic; }

        .form-group { margin-bottom: 20px; }
        .form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        
        label { display: block; margin-bottom: 8px; color: var(--gold); font-weight: bold; font-size: 0.9rem; }
        
        /* GENERAL INPUT STYLE (Except Checkbox) */
        input:not([type="checkbox"]), select, textarea {
            width: 100%;
            padding: 12px;
            background-color: #111;
            border: 1px solid var(--border-color);
            color: white;
            border-radius: 4px;
            font-size: 1rem;
            outline: none;
            transition: border-color 0.3s;
        }
        input:not([type="checkbox"]):focus, select:focus, textarea:focus { border-color: var(--gold); }

        /* --- SMART ICON COLORING --- */
        /* This forces the browser to render the icon White because the input is Dark.
           If you change the theme to light later, change this to 'light' (or remove it), and the icon becomes Black. */
        input[type="date"], 
        input[type="time"] {
            color-scheme: dark;
        }

        /* CHECKBOX STYLE */
        .consent-checkbox { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 20px; }
        input[type="checkbox"] {
            width: 20px; height: 20px; accent-color: var(--gold); cursor: pointer; margin-top: 3px;
        }
        .consent-label { font-size: 0.9rem; color: #ccc; line-height: 1.4; font-weight: normal; }
        .consent-label a { color: var(--gold); text-decoration: underline; }

        button.btn-submit {
            width: 100%;
            padding: 15px;
            background-color: var(--gold);
            color: #000;
            border: none;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            border-radius: 4px;
            text-transform: uppercase;
            margin-top: 10px;
            transition: background 0.3s;
        }
        button.btn-submit:hover { background-color: #fff; }
        button.btn-submit:disabled { background-color: #555; cursor: not-allowed; }

        /* SUCCESS MODAL */
        #success-modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 9999; justify-content: center; align-items: center;
        }
        .success-box {
            background: var(--card-bg); padding: 30px; border-radius: 8px; width: 90%; max-width: 400px;
            text-align: center; border: 2px solid var(--gold);
        }
        .success-icon { font-size: 50px; color: white; margin-bottom: 15px; }
        .btn-close { background: var(--gold); color: #000; border: none; padding: 10px 30px; margin-top: 20px; cursor: pointer; font-weight: bold; border-radius: 4px; }

        footer { background: #000; padding: 40px 0; border-top: 1px solid var(--border-color); color: #666; font-size: 0.9rem; margin-top: auto; text-align: center; }

        @media (max-width: 600px) { .form-row { grid-template-columns: 1fr; gap: 0; } }
    </style>
</head>
<body>

    <header>
        <div class="container navbar">
            <a href="index.html" class="logo"><img src="logo.png" alt="Zafran Delight"></a>
            <div class="nav-links">
                <a href="index.html">Startseite</a>
                <a href="index.html#menu">Speisekarte</a>
            </div>
        </div>
    </header>

    <main>
        <div class="reservation-card">
            <h1>Tisch Reservieren</h1>
            <p class="subtitle">Genie√üen Sie authentische K√ºche in gem√ºtlicher Atmosph√§re.</p>
            
            <form id="reservation-form">
                <div class="form-row">
                    <div class="form-group">
                        <label>Name *</label>
                        <input type="text" id="res-name" required placeholder="Ihr Name">
                    </div>
                    <div class="form-group">
                        <label>Telefon *</label>
                        <input type="tel" id="res-phone" required placeholder="F√ºr R√ºckfragen">
                    </div>
                </div>

                <div class="form-group">
                    <label>E-Mail</label>
                    <input type="email" id="res-email" placeholder="Optional f√ºr Best√§tigung">
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label>Datum *</label>
                        <input type="date" id="res-date" required>
                    </div>
                    <div class="form-group">
                        <label>Uhrzeit *</label>
                        <input type="time" id="res-time" required>
                        <small style="color:#666;">Ge√∂ffnet: 12:00 - 22:00 Uhr</small>
                    </div>
                </div>

                <div class="form-group">
                    <label>Anzahl Personen *</label>
                    <select id="res-guests" required>
                        <option value="1">1 Person</option>
                        <option value="2" selected>2 Personen</option>
                        <option value="3">3 Personen</option>
                        <option value="4">4 Personen</option>
                        <option value="5">5 Personen</option>
                        <option value="6">6 Personen</option>
                        <option value="7">7 Personen</option>
                        <option value="8">8 Personen</option>
                        <option value="group">Mehr als 8 (Gruppe)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Anmerkungen (Optional)</label>
                    <textarea id="res-notes" rows="2" placeholder="Besondere W√ºnsche, Hochstuhl, etc."></textarea>
                </div>

                <div class="consent-checkbox">
                    <input type="checkbox" id="privacy-consent" required>
                    <label for="privacy-consent" class="consent-label">
                        Ich habe die <a href="privacy.html" target="_blank">Datenschutzerkl√§rung</a> gelesen und stimme zu.
                    </label>
                </div>

                <button type="submit" id="submit-btn" class="btn-submit">Jetzt Reservieren</button>
            </form>
        </div>
    </main>

    <footer style="background-color: #1a1a1a; color: #ccc; padding: 40px 20px; font-size: 0.8rem; text-align: center; border-top: 1px solid #333; margin-top: 50px;">
        
        <img src="logo.png" class="footer-logo" alt="Zafran" style="max-width: 120px; margin-bottom: 20px;">

        <div style="margin-bottom: 30px; color: #666; line-height: 1.6;">
            Inhaber: Syed Hussain Haider Zaidi | Kessenicher Str. 9, 53879 Euskirchen<br>
            USt-IdNr gem√§√ü ¬ß 27 a UStG
        </div>

        <div class="footer-links" style="border-top: 1px solid #333; padding-top: 20px; max-width: 900px; margin: 0 auto;">
            
            <p style="margin-bottom: 15px; font-size: 0.9rem;">
                <a href="imprint.html" style="color: #D4AF37; text-decoration: none; margin: 0 10px;">Impressum</a> | 
                <a href="privacy.html" style="color: #D4AF37; text-decoration: none; margin: 0 10px;">Datenschutzerkl√§rung</a>
            </p>
            
            <p style="margin: 0;">
                &copy; 2025 Zafran Delight. Alle Rechte vorbehalten.
            </p>
            
            <p style="margin-top: 5px; font-size: 0.75rem; color: #666;">
                Designed & Developed by 
                <a href="#" style="color: #888; text-decoration: none; font-weight: bold;">SAN Technologies</a>
            </p>
        </div>
    </footer>

    <div id="success-modal">
        <div class="success-box">
            <div class="success-icon">‚úì</div>
            <h2 style="color:white; margin-bottom:10px;">Anfrage Gesendet!</h2>
            <p style="color:#ccc;">Vielen Dank f√ºr Ihre Reservierung.<br>Wir best√§tigen diese in K√ºrze.</p>
            <button class="btn-close" onclick="window.location.href='index.html'">Zur√ºck zur Startseite</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <script src="reservation-script.js?v=1"></script>

    <div id="cookie-banner" style="position:fixed; bottom:0; left:0; width:100%; background:#111; color:white; padding:20px; border-top:2px solid #D4AF37; z-index:10000; display:none; box-shadow: 0 -5px 20px rgba(0,0,0,0.8);">
        <div style="max-width: 1200px; margin: 0 auto; display:flex; flex-direction:column; gap:15px; align-items:center; text-align:center;">
            
            <h3 style="margin:0; color:#D4AF37;">üç™ Datenschutzeinstellungen</h3>
            <p style="font-size:0.9rem; color:#ccc; margin:0;">
                Wir nutzen Cookies und externe Dienste (Google Fonts, Firebase, OpenStreetMap), um unsere Website zu betreiben. 
                Einige sind technisch notwendig, andere helfen uns, unser Angebot zu verbessern.
                <br>
                <a href="privacy.html" style="color:#fff; text-decoration:underline;">Mehr erfahren</a> | 
                <a href="imprint.html" style="color:#fff; text-decoration:underline;">Impressum</a>
            </p>

            <div style="display:flex; gap:10px; flex-wrap:wrap; justify-content:center;">
                <button onclick="acceptAllCookies()" style="background:#D4AF37; color:black; border:none; padding:10px 25px; border-radius:5px; font-weight:bold; cursor:pointer;">Alle Akzeptieren</button>
                <button onclick="acceptEssentialCookies()" style="background:#333; color:white; border:1px solid #666; padding:10px 25px; border-radius:5px; cursor:pointer;">Nur Notwendige</button>
            </div>

        </div>
    </div>

    <script>
        if (!localStorage.getItem('cookieConsent')) {
            document.getElementById('cookie-banner').style.display = 'block';
        }

        function acceptAllCookies() {
            localStorage.setItem('cookieConsent', 'all');
            document.getElementById('cookie-banner').style.display = 'none';
            if (typeof loadMap === 'function') {
                loadMap();
            }
        }

        function acceptEssentialCookies() {
            localStorage.setItem('cookieConsent', 'essential');
            document.getElementById('cookie-banner').style.display = 'none';
        }
    </script>
</body>
</html>
